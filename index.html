<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Isaac</title>
  <meta name="description" content="Humanoid robots are likely to become part of our lives through a sharing-based service.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;500;600&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="nav">
    <a href="#" class="logo">
      <img src="logo/Isaac_Logo.svg" alt="Isaac" class="logo-img">
    </a>
    <div class="nav-links">
      <a href="#about" class="nav-link">About</a>
      <a href="#services" class="nav-link">Services</a>
      <a href="#pricing" class="nav-link">Pricing</a>
      <button class="cta-button" onclick="openBooking()">Get Started</button>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <p class="hero-subtitle">Sharing Humanoid</p>
      <h1 class="hero-title">
        Isaac Can Be Your<br>
        <span class="dynamic-line"><span class="dynamic-text" id="dynamicText"></span><span class="cursor">|</span></span>
      </h1>
      <p class="hero-description">
        Humanoid robots are likely to become part of our lives<br>
        through a sharing-based service.
      </p>
      <div class="hero-cta">
        <button class="cta-button" onclick="openBooking()">Reserve Your Isaac</button>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="about-section">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-label">About</span>
        <h2 class="section-title">
          The future of robotics<br>is access, not ownership.
        </h2>
      </div>
      
      <p class="about-text">
        Isaac represents a paradigm shift in how humanity interacts with 
        humanoid technology. Through our on-demand sharing platform, 
        advanced robotics becomes accessible to everyone—individuals, 
        families, and businesses alike.
      </p>
      
      <div class="about-grid">
        <div class="about-item">
          <span class="about-number">01</span>
          <h3 class="about-item-title">Mission</h3>
          <p class="about-item-text">
            Democratizing access to humanoid robotics through an affordable,
            flexible sharing economy model. We believe the future of robotics
            shouldn't be limited to corporations—everyone deserves access to
            transformative technology.
          </p>
        </div>

        <div class="about-item">
          <span class="about-number">02</span>
          <h3 class="about-item-title">Technology</h3>
          <p class="about-item-text">
            Advanced AI-driven humanoids with natural language processing,
            adaptive learning, and seamless human interaction. Our robots learn
            from each deployment, continuously improving to meet diverse needs
            with precision and empathy.
          </p>
        </div>

        <div class="about-item">
          <span class="about-number">03</span>
          <h3 class="about-item-title">Network</h3>
          <p class="about-item-text">
            A distributed fleet across major metropolitan areas with
            15-minute average response times. Our intelligent dispatch system
            ensures optimal robot allocation, minimizing wait times while
            maximizing efficiency.
          </p>
        </div>

        <div class="about-item">
          <span class="about-number">04</span>
          <h3 class="about-item-title">Vision</h3>
          <p class="about-item-text">
            Creating a future where humanoid assistance is as accessible
            and normalized as ride-sharing is today. We envision a world where
            robots and humans collaborate seamlessly, enhancing quality of life
            for all.
          </p>
        </div>
      </div>
      
      <div class="stats-row">
        <div class="stat-box">
          <span class="stat-value">99.7%</span>
          <span class="stat-desc">Uptime</span>
          <span class="stat-detail">Industry-leading reliability with<br>continuous monitoring</span>
        </div>
        <div class="stat-box">
          <span class="stat-value">15min</span>
          <span class="stat-desc">Response</span>
          <span class="stat-detail">Average dispatch time<br>to your location</span>
        </div>
        <div class="stat-box">
          <span class="stat-value">24/7</span>
          <span class="stat-desc">Available</span>
          <span class="stat-detail">Round-the-clock service,<br>every day of the year</span>
        </div>
        <div class="stat-box">
          <span class="stat-value">12</span>
          <span class="stat-desc">Cities</span>
          <span class="stat-detail">Expanding network across<br>major metropolitan areas</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="services-section">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-label">Services</span>
        <h2 class="section-title">
          One robot.<br>Infinite possibilities.
        </h2>
      </div>
      
      <div class="services-grid">
        <div class="service-card">
          <div class="service-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
          </div>
          <h3 class="service-title">Home Care</h3>
          <p class="service-text">
            Elderly assistance, childcare support, and household management 
            with empathetic AI-driven interaction.
          </p>
        </div>
        
        <div class="service-card">
          <div class="service-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
              <line x1="8" y1="21" x2="16" y2="21"/>
              <line x1="12" y1="17" x2="12" y2="21"/>
            </svg>
          </div>
          <h3 class="service-title">Business Operations</h3>
          <p class="service-text">
            Reception, customer service, inventory management, and 
            operational tasks for modern enterprises.
          </p>
        </div>
        
        <div class="service-card">
          <div class="service-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
              <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
            </svg>
          </div>
          <h3 class="service-title">Education & Tutoring</h3>
          <p class="service-text">
            Personalized tutoring, language practice, and interactive 
            learning experiences for all ages.
          </p>
        </div>
        
        <div class="service-card">
          <div class="service-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
            </svg>
          </div>
          <h3 class="service-title">Technical Assistance</h3>
          <p class="service-text">
            Mechanical repairs, technical setup, equipment maintenance, 
            and hands-on problem solving.
          </p>
        </div>
        
        <div class="service-card">
          <div class="service-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
          </div>
          <h3 class="service-title">Events & Hospitality</h3>
          <p class="service-text">
            Event support, guided experiences, and memorable 
            interactions for special occasions.
          </p>
        </div>
        
        <div class="service-card">
          <div class="service-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
          </div>
          <h3 class="service-title">Temporary Staffing</h3>
          <p class="service-text">
            Fill workforce gaps with reliable assistance for retail, 
            logistics, and service industries.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing Section -->
  <section id="pricing" class="pricing-section">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-label">Pricing</span>
        <h2 class="section-title">Choose your plan</h2>
        <p class="pricing-subtext">Flexible options for every need</p>
      </div>

      <div class="pricing-tabs">
        <button class="pricing-tab active" onclick="switchPlan('hourly')">Hourly</button>
        <button class="pricing-tab" onclick="switchPlan('subscription')">Subscription</button>
      </div>

      <!-- Hourly Pricing -->
      <div class="pricing-content active" id="hourlyPricing">
        <div class="pricing-grid">
          <div class="pricing-card">
            <span class="plan-name">Basic</span>
            <div class="plan-price">
              <span class="price-amount">$29</span>
              <span class="price-period">/hour</span>
            </div>
            <ul class="plan-features">
              <li>Standard assistance tasks</li>
              <li>2-hour minimum</li>
              <li>Basic support</li>
            </ul>
            <button class="cta-button cta-secondary" style="width: 100%" onclick="openBooking()">Book Now</button>
          </div>

          <div class="pricing-card featured">
            <div class="plan-header">
              <span class="plan-name">Professional</span>
              <span class="plan-badge">Popular</span>
            </div>
            <div class="plan-price">
              <span class="price-amount">$49</span>
              <span class="price-period">/hour</span>
            </div>
            <ul class="plan-features">
              <li>Advanced task capabilities</li>
              <li>1-hour minimum</li>
              <li>Priority support</li>
              <li>Custom configurations</li>
            </ul>
            <button class="cta-button" style="width: 100%" onclick="openBooking()">Book Now</button>
          </div>

          <div class="pricing-card">
            <span class="plan-name">Enterprise</span>
            <div class="plan-price">
              <span class="price-amount">$89</span>
              <span class="price-period">/hour</span>
            </div>
            <ul class="plan-features">
              <li>Full capability access</li>
              <li>No minimum</li>
              <li>24/7 dedicated support</li>
              <li>Multi-robot coordination</li>
            </ul>
            <button class="cta-button cta-secondary" style="width: 100%" onclick="openBooking()">Contact Sales</button>
          </div>
        </div>
      </div>

      <!-- Subscription Pricing -->
      <div class="pricing-content" id="subscriptionPricing">
        <div class="pricing-grid">
          <div class="pricing-card">
            <span class="plan-name">Starter</span>
            <div class="plan-price">
              <span class="price-amount">$499</span>
              <span class="price-period">/month</span>
            </div>
            <ul class="plan-features">
              <li>20 hours included</li>
              <li>Rollover unused hours</li>
              <li>Email support</li>
            </ul>
            <button class="cta-button cta-secondary" style="width: 100%" onclick="openBooking()">Subscribe</button>
          </div>

          <div class="pricing-card featured">
            <div class="plan-header">
              <span class="plan-name">Growth</span>
              <span class="plan-badge">Best Value</span>
            </div>
            <div class="plan-price">
              <span class="price-amount">$1,299</span>
              <span class="price-period">/month</span>
            </div>
            <ul class="plan-features">
              <li>60 hours included</li>
              <li>Priority scheduling</li>
              <li>Dedicated support</li>
              <li>Analytics dashboard</li>
            </ul>
            <button class="cta-button" style="width: 100%" onclick="openBooking()">Subscribe</button>
          </div>

          <div class="pricing-card">
            <span class="plan-name">Unlimited</span>
            <div class="plan-price">
              <span class="price-amount">$3,999</span>
              <span class="price-period">/month</span>
            </div>
            <ul class="plan-features">
              <li>Unlimited hours</li>
              <li>Guaranteed availability</li>
              <li>White-glove service</li>
              <li>Custom integrations</li>
            </ul>
            <button class="cta-button cta-secondary" style="width: 100%" onclick="openBooking()">Contact Sales</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <h2 class="cta-title">Ready to meet Isaac?</h2>
    <p class="cta-text">
      Join the waitlist for early access to our sharing network.
    </p>
    <button class="cta-button" onclick="openBooking()">Reserve Your Isaac</button>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-logo">
      <img src="logo/Isaac_Logo.svg" alt="Isaac" class="footer-logo-img">
    </div>
    <p class="footer-text">Sharing Humanoid — Seoul, Republic of Korea</p>
    <p class="footer-copyright">© 2025 Isaac Robotics. All rights reserved.</p>
  </footer>

  <!-- Booking Modal -->
  <div class="modal-overlay" id="bookingModal">
    <div class="modal booking-modal">
      <button class="modal-close" onclick="closeBooking()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>

      <!-- Step Indicator -->
      <div class="booking-steps">
        <div class="step-indicator active" data-step="1">1</div>
        <div class="step-line"></div>
        <div class="step-indicator" data-step="2">2</div>
        <div class="step-line"></div>
        <div class="step-indicator" data-step="3">3</div>
      </div>

      <!-- Step 1: Purpose Selection -->
      <div class="booking-step active" id="bookingStep1">
        <div class="modal-header">
          <span class="modal-label">Step 1 of 3</span>
          <h2 class="modal-title">What do you need Isaac for?</h2>
          <p class="modal-subtext">Select a purpose or describe your own</p>
        </div>

        <div class="purpose-options">
          <button class="purpose-pill" onclick="selectPurpose(this)">Home Care</button>
          <button class="purpose-pill" onclick="selectPurpose(this)">Childcare</button>
          <button class="purpose-pill" onclick="selectPurpose(this)">Elderly Care</button>
          <button class="purpose-pill" onclick="selectPurpose(this)">Tutoring</button>
          <button class="purpose-pill" onclick="selectPurpose(this)">Housekeeping</button>
          <button class="purpose-pill" onclick="selectPurpose(this)">Event Support</button>
          <button class="purpose-pill" onclick="selectPurpose(this)">Business Assistance</button>
          <button class="purpose-pill" onclick="selectPurpose(this)">Technical Help</button>
        </div>

        <div class="custom-purpose">
          <input type="text" id="customPurpose" class="custom-input" placeholder="Or describe your specific need...">
        </div>

        <div class="booking-actions">
          <button class="cta-button" onclick="nextStep(2)">Next</button>
        </div>
      </div>

      <!-- Step 2: Date & Time Selection -->
      <div class="booking-step" id="bookingStep2">
        <div class="modal-header">
          <span class="modal-label">Step 2 of 3</span>
          <h2 class="modal-title">When do you need Isaac?</h2>
          <p class="modal-subtext">Select your preferred date and time</p>
        </div>

        <div class="datetime-picker">
          <div class="date-select">
            <label class="input-label">Date</label>
            <div class="custom-date-picker" id="datePicker">
              <div class="custom-select-trigger" onclick="toggleDatePicker()">
                <span class="custom-select-value" id="datePickerValue">Select Date</span>
                <svg class="custom-select-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/>
                  <line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
              </div>
              <div class="date-picker-dropdown" id="datePickerDropdown">
                <div class="date-picker-header">
                  <button type="button" class="date-nav-btn" onclick="changeMonth(-1)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                  </button>
                  <span class="date-picker-month" id="currentMonth"></span>
                  <button type="button" class="date-nav-btn" onclick="changeMonth(1)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                  </button>
                </div>
                <div class="date-picker-weekdays">
                  <span>Su</span><span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span>
                </div>
                <div class="date-picker-days" id="datePickerDays"></div>
              </div>
            </div>
            <input type="hidden" id="bookingDate" value="">
          </div>
          <div class="time-select">
            <label class="input-label">Time</label>
            <div class="custom-select" id="timeSelect">
              <div class="custom-select-trigger" onclick="toggleDropdown('timeSelect')">
                <span class="custom-select-value" id="timeSelectValue">Time</span>
                <svg class="custom-select-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </div>
              <div class="custom-select-options" id="timeOptions"></div>
            </div>
            <input type="hidden" id="bookingTime" value="">
          </div>
          <div class="duration-select">
            <label class="input-label">Duration</label>
            <div class="custom-select" id="durationSelect">
              <div class="custom-select-trigger" onclick="toggleDropdown('durationSelect')">
                <span class="custom-select-value" id="durationSelectValue">Duration</span>
                <svg class="custom-select-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </div>
              <div class="custom-select-options" id="durationOptions"></div>
            </div>
            <input type="hidden" id="bookingDuration" value="">
          </div>
        </div>

        <div class="booking-actions">
          <button class="cta-button cta-secondary" onclick="prevStep(1)">Back</button>
          <button class="cta-button" onclick="nextStep(3)">Next</button>
        </div>
      </div>

      <!-- Step 3: Confirmation -->
      <div class="booking-step" id="bookingStep3">
        <div class="modal-header">
          <span class="modal-label">Step 3 of 3</span>
          <h2 class="modal-title">Confirm your booking</h2>
          <p class="modal-subtext">Review your reservation details</p>
        </div>

        <div class="booking-summary">
          <div class="summary-item">
            <span class="summary-label">Purpose</span>
            <span class="summary-value" id="summaryPurpose">-</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Date</span>
            <span class="summary-value" id="summaryDate">-</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Time</span>
            <span class="summary-value" id="summaryTime">-</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Duration</span>
            <span class="summary-value" id="summaryDuration">-</span>
          </div>
        </div>

        <p class="confirmation-note">We'll contact you shortly to finalize your reservation.</p>

        <div class="booking-actions">
          <button class="cta-button cta-secondary" onclick="prevStep(2)">Back</button>
          <button class="cta-button" id="confirmBtn" onclick="showConfirmationModal()">Complete Reservation</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirmation Modal -->
  <div class="modal-overlay" id="confirmationModal">
    <div class="modal confirmation-modal">
      <div class="confirmation-content">
        <div class="confirmation-icon">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 6v6l4 2"/>
          </svg>
        </div>
        <h2 class="confirmation-title">Isaac is preparing for you</h2>
        <p class="confirmation-message">Your reservation has been received. We'll be ready to assist you at your scheduled time.</p>
        <div class="confirmation-actions">
          <button class="cta-button cta-secondary" onclick="editReservation()">예약 수정</button>
          <button class="cta-button" onclick="closeAllModals()">확인</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Typing animation
    const roles = [
      'Caregiver',
      'Teacher',
      'Coach',
      'Mechanic',
      'Assistant',
      'Housekeeper',
      'Part-time Employee',
      'Partner',
      'Guard',
      'Babysitter',
      'Helper',
      'Companion'
    ];

    let currentRole = 0;
    let currentChar = 0;
    let isDeleting = false;
    const dynamicText = document.getElementById('dynamicText');

    function type() {
      const role = roles[currentRole];

      if (!isDeleting) {
        dynamicText.textContent = role.substring(0, currentChar + 1);
        currentChar++;

        if (currentChar === role.length) {
          setTimeout(() => { isDeleting = true; type(); }, 2000);
          return;
        }
      } else {
        dynamicText.textContent = role.substring(0, currentChar - 1);
        currentChar--;

        if (currentChar === 0) {
          isDeleting = false;
          currentRole = (currentRole + 1) % roles.length;
        }
      }

      setTimeout(type, isDeleting ? 50 : 120);
    }

    type();

    // Pricing tabs (for section)
    function switchPlan(plan) {
      const tabs = document.querySelectorAll('.pricing-tab');
      const contents = document.querySelectorAll('.pricing-content');

      tabs.forEach(tab => tab.classList.remove('active'));
      contents.forEach(content => content.classList.remove('active'));

      if (plan === 'hourly') {
        tabs[0].classList.add('active');
        document.getElementById('hourlyPricing').classList.add('active');
      } else {
        tabs[1].classList.add('active');
        document.getElementById('subscriptionPricing').classList.add('active');
      }
    }

    // Booking Modal
    let selectedPurposes = [];
    let currentStep = 1;

    function openBooking() {
      document.getElementById('bookingModal').classList.add('active');
      document.body.style.overflow = 'hidden';
      // Reset to step 1
      currentStep = 1;
      showStep(1);
      resetBookingForm();
    }

    function closeBooking() {
      document.getElementById('bookingModal').classList.remove('active');
      document.body.style.overflow = '';
    }

    function resetBookingForm() {
      selectedPurposes = [];
      document.querySelectorAll('.purpose-pill').forEach(p => p.classList.remove('active'));
      document.getElementById('customPurpose').value = '';
      document.getElementById('bookingDate').value = '';
      document.getElementById('bookingTime').value = '';
      document.getElementById('bookingDuration').value = '';
      document.getElementById('confirmBtn').disabled = true;

      // Reset custom selects
      document.getElementById('timeSelectValue').textContent = 'Time';
      document.getElementById('timeSelectValue').classList.remove('selected');
      document.getElementById('durationSelectValue').textContent = 'Duration';
      document.getElementById('durationSelectValue').classList.remove('selected');
      document.querySelectorAll('.custom-select-option').forEach(opt => opt.classList.remove('selected'));

      // Reset date picker
      selectedDate = null;
      currentDate = new Date();
      document.getElementById('datePickerValue').textContent = 'Select Date';
      document.getElementById('datePickerValue').classList.remove('selected');
    }

    function selectPurpose(el) {
      el.classList.toggle('active');
      const purpose = el.textContent;

      if (el.classList.contains('active')) {
        if (!selectedPurposes.includes(purpose)) {
          selectedPurposes.push(purpose);
        }
      } else {
        selectedPurposes = selectedPurposes.filter(p => p !== purpose);
      }
    }

    // Listen for custom purpose input
    document.getElementById('customPurpose').addEventListener('input', function() {
      // Custom input is additional, not replacing pill selections
    });

    function showStep(step) {
      document.querySelectorAll('.booking-step').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('.step-indicator').forEach(i => i.classList.remove('active', 'completed'));

      document.getElementById('bookingStep' + step).classList.add('active');

      // Update step indicators
      for (let i = 1; i <= 3; i++) {
        const indicator = document.querySelector('.step-indicator[data-step="' + i + '"]');
        if (i < step) {
          indicator.classList.add('completed');
        } else if (i === step) {
          indicator.classList.add('active');
        }
      }
    }

    function nextStep(step) {
      if (step === 2) {
        // Validate step 1
        const customVal = document.getElementById('customPurpose').value.trim();
        if (selectedPurposes.length === 0 && !customVal) {
          alert('Please select or enter a purpose');
          return;
        }
      }

      if (step === 3) {
        // Validate step 2
        const date = document.getElementById('bookingDate').value;
        const time = document.getElementById('bookingTime').value;
        const duration = document.getElementById('bookingDuration').value;
        if (!date || !time || !duration) {
          alert('Please select date, time, and duration');
          return;
        }
        // Update summary
        updateSummary();
      }

      currentStep = step;
      showStep(step);
    }

    function prevStep(step) {
      currentStep = step;
      showStep(step);
    }

    function updateSummary() {
      const customVal = document.getElementById('customPurpose').value.trim();
      let allPurposes = [...selectedPurposes];
      if (customVal) allPurposes.push(customVal);
      document.getElementById('summaryPurpose').textContent = allPurposes.join(', ') || '-';

      const dateVal = document.getElementById('bookingDate').value;
      const dateObj = new Date(dateVal);
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById('summaryDate').textContent = dateObj.toLocaleDateString('en-US', options);

      const timeVal = document.getElementById('bookingTime').value;
      const [hours, minutes] = timeVal.split(':');
      const timeObj = new Date();
      timeObj.setHours(parseInt(hours), parseInt(minutes));
      document.getElementById('summaryTime').textContent = timeObj.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });

      const duration = document.getElementById('bookingDuration').value;
      const durationNum = parseFloat(duration);
      document.getElementById('summaryDuration').textContent = durationNum + (durationNum === 1 ? ' hour' : ' hours');
    }

    // Close modal on overlay click
    document.getElementById('bookingModal').addEventListener('click', function(e) {
      if (e.target === this) closeBooking();
    });

    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') closeBooking();
    });

    // Custom Date Picker
    let currentDate = new Date();
    let selectedDate = null;

    function toggleDatePicker() {
      const picker = document.getElementById('datePicker');
      const wasOpen = picker.classList.contains('open');

      // Close all dropdowns first
      document.querySelectorAll('.custom-select').forEach(s => s.classList.remove('open'));
      document.querySelectorAll('.custom-date-picker').forEach(s => s.classList.remove('open'));

      if (!wasOpen) {
        picker.classList.add('open');
        renderCalendar();
      }
    }

    function changeMonth(direction) {
      currentDate.setMonth(currentDate.getMonth() + direction);
      renderCalendar();
    }

    function renderCalendar() {
      const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                          'July', 'August', 'September', 'October', 'November', 'December'];

      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();

      document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;

      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();
      const today = new Date();
      today.setHours(0, 0, 0, 0);

      let html = '';

      // Empty cells for days before first day of month
      for (let i = 0; i < firstDay; i++) {
        html += '<span class="date-day empty"></span>';
      }

      // Days of the month
      for (let day = 1; day <= daysInMonth; day++) {
        const dateObj = new Date(year, month, day);
        const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        const isPast = dateObj < today;
        const isSelected = selectedDate === dateStr;
        const isToday = dateObj.getTime() === today.getTime();

        let classes = 'date-day';
        if (isPast) classes += ' disabled';
        if (isSelected) classes += ' selected';
        if (isToday) classes += ' today';

        if (isPast) {
          html += `<span class="${classes}">${day}</span>`;
        } else {
          html += `<span class="${classes}" onclick="selectDate('${dateStr}', ${day})">${day}</span>`;
        }
      }

      document.getElementById('datePickerDays').innerHTML = html;
    }

    function selectDate(dateStr, day) {
      selectedDate = dateStr;
      document.getElementById('bookingDate').value = dateStr;

      const dateObj = new Date(dateStr);
      const options = { weekday: 'short', month: 'short', day: 'numeric' };
      const displayText = dateObj.toLocaleDateString('en-US', options);

      document.getElementById('datePickerValue').textContent = displayText;
      document.getElementById('datePickerValue').classList.add('selected');
      document.getElementById('datePicker').classList.remove('open');
    }

    // Set minimum date to today
    document.addEventListener('DOMContentLoaded', function() {
      // Generate time options (10-minute intervals)
      generateTimeOptions();

      // Generate duration options (30-minute intervals)
      generateDurationOptions();

      // Initialize calendar to current month
      currentDate = new Date();
    });

    // Custom Select Functions
    function generateTimeOptions() {
      const timeOptions = document.getElementById('timeOptions');
      timeOptions.innerHTML = '';

      for (let h = 0; h < 24; h++) {
        for (let m = 0; m < 60; m += 10) {
          const hour24 = h.toString().padStart(2, '0');
          const minute = m.toString().padStart(2, '0');
          const value = `${hour24}:${minute}`;

          const hour12 = h === 0 ? 12 : (h > 12 ? h - 12 : h);
          const ampm = h < 12 ? 'AM' : 'PM';
          const displayText = `${hour12}:${minute} ${ampm}`;

          const option = document.createElement('div');
          option.className = 'custom-select-option';
          option.setAttribute('data-value', value);
          option.textContent = displayText;
          option.onclick = () => selectTime(value, displayText);
          timeOptions.appendChild(option);
        }
      }
    }

    function generateDurationOptions() {
      const durationOptions = document.getElementById('durationOptions');
      durationOptions.innerHTML = '';

      const durations = [
        { value: '0.5', label: '30 minutes' },
        { value: '1', label: '1 hour' },
        { value: '1.5', label: '1.5 hours' },
        { value: '2', label: '2 hours' },
        { value: '2.5', label: '2.5 hours' },
        { value: '3', label: '3 hours' },
        { value: '3.5', label: '3.5 hours' },
        { value: '4', label: '4 hours' },
        { value: '5', label: '5 hours' },
        { value: '6', label: '6 hours' },
        { value: '8', label: '8 hours' }
      ];

      durations.forEach(d => {
        const option = document.createElement('div');
        option.className = 'custom-select-option';
        option.setAttribute('data-value', d.value);
        option.textContent = d.label;
        option.onclick = () => selectDuration(d.value, d.label);
        durationOptions.appendChild(option);
      });
    }

    function toggleDropdown(selectId) {
      const select = document.getElementById(selectId);
      const wasOpen = select.classList.contains('open');

      // Close all dropdowns first
      document.querySelectorAll('.custom-select').forEach(s => s.classList.remove('open'));
      document.querySelectorAll('.custom-date-picker').forEach(s => s.classList.remove('open'));

      // Toggle the clicked one
      if (!wasOpen) {
        select.classList.add('open');
      }
    }

    function selectTime(value, displayText) {
      document.getElementById('bookingTime').value = value;
      document.getElementById('timeSelectValue').textContent = displayText;
      document.getElementById('timeSelectValue').classList.add('selected');
      document.getElementById('timeSelect').classList.remove('open');

      // Update selected state
      document.querySelectorAll('#timeOptions .custom-select-option').forEach(opt => {
        opt.classList.toggle('selected', opt.getAttribute('data-value') === value);
      });
    }

    function selectDuration(value, displayText) {
      document.getElementById('bookingDuration').value = value;
      document.getElementById('durationSelectValue').textContent = displayText;
      document.getElementById('durationSelectValue').classList.add('selected');
      document.getElementById('durationSelect').classList.remove('open');

      // Update selected state
      document.querySelectorAll('#durationOptions .custom-select-option').forEach(opt => {
        opt.classList.toggle('selected', opt.getAttribute('data-value') === value);
      });
    }

    // Close dropdowns when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.custom-select')) {
        document.querySelectorAll('.custom-select').forEach(s => s.classList.remove('open'));
      }
      if (!e.target.closest('.custom-date-picker')) {
        document.querySelectorAll('.custom-date-picker').forEach(s => s.classList.remove('open'));
      }
    });

    // Confirmation Modal Functions
    function showConfirmationModal() {
      document.getElementById('confirmationModal').classList.add('active');
    }

    function closeConfirmationModal() {
      document.getElementById('confirmationModal').classList.remove('active');
    }

    function closeAllModals() {
      document.getElementById('confirmationModal').classList.remove('active');
      document.getElementById('bookingModal').classList.remove('active');
      document.body.style.overflow = '';
      resetBookingForm();
    }

    function editReservation() {
      document.getElementById('confirmationModal').classList.remove('active');
      // Stay on booking modal step 3 for editing
    }

    // Close confirmation modal on overlay click
    document.getElementById('confirmationModal').addEventListener('click', function(e) {
      if (e.target === this) closeConfirmationModal();
    });
  </script>
</body>
</html>
